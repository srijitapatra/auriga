<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head', {title: detail.name}); %>
        <style>
            main {
                background-image: url('<%= detail.image %>');
                background-attachment: fixed;
                background-size: cover;
            }

            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }

            @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                    font-size: 3.5rem;
                }
            }

            .b-example-divider {
                height: 3rem;
                background-color: rgba(0, 0, 0, .1);
                border: solid rgba(0, 0, 0, .15);
                border-width: 1px 0;
                box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
            }

            .b-example-vr {
                flex-shrink: 0;
                width: 1.5rem;
                height: 100vh;
            }

            .bi {
                vertical-align: -.125em;
                fill: currentColor;
            }

            .nav-scroller {
                position: relative;
                z-index: 2;
                height: 2.75rem;
                overflow-y: hidden;
            }

            .nav-scroller .nav {
                display: flex;
                flex-wrap: nowrap;
                padding-bottom: 1rem;
                margin-top: -1px;
                overflow-x: auto;
                text-align: center;
                white-space: nowrap;
                -webkit-overflow-scrolling: touch;
            }

            .container {
                max-width: 960px;
            }

            /*
          * Custom translucent site header
          */

            .site-header {
                background-color: rgba(0, 0, 0, .85);
                -webkit-backdrop-filter: saturate(180%) blur(20px);
                backdrop-filter: saturate(180%) blur(20px);
            }

            .site-header a {
                color: #8e8e8e;
                transition: color .15s ease-in-out;
            }

            .site-header a:hover {
                color: #fff;
                text-decoration: none;
            }

            /*
          * Dummy devices (replace them with your own or something else entirely!)
          */

            .product-device {
                position: absolute;
                right: 10%;
                bottom: -30%;
                width: 300px;
                height: 540px;
                background-color: #333;
                border-radius: 21px;
                transform: rotate(30deg);
            }

            .product-device::before {
                position: absolute;
                top: 10%;
                right: 10px;
                bottom: 10%;
                left: 10px;
                content: "";
                background-color: rgba(255, 255, 255, .1);
                border-radius: 5px;
            }

            .product-device-2 {
                top: -25%;
                right: auto;
                bottom: 0;
                left: 5%;
                background-color: #e5e5e5;
            }


            /*
          * Extra utilities
          */

            .flex-equal>* {
                flex: 1;
            }

            @media (min-width: 768px) {
                .flex-md-equal>* {
                    flex: 1;
                }
            }
        </style>
</head>

<body>
    <main>
        <div style="border-radius: 20em;"
            class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
            <div class="col-md-5 mx-auto my-5">
                <h1 class="display-4 fw-normal">
                    <%= detail.name %>
                </h1>
                <p class="lead fw-normal">
                    <%= detail.description %>
                </p>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal"
                    data-bs-target="#exampleModal">
                    Volunteer
                </button>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content" style="text-align: left !important">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="exampleModalLabel">Volunteer for us!</h1>
                            </div>
                            <div class="modal-body">
                                <form action="/ngo/<%= detail.name %>/volunteer" method="post">
                                    <div class="mb-3">
                                        <label for="name" class="form-label">Name</label>
                                        <input type="text" class="form-control" id="name" name="name">
                                    </div>
                                    <div class="mb-3">
                                        <label for="phone" pattern="[6-9]{1}[0-9]{9}" class="form-label">Phone</label>
                                        <input type="tel" class="form-control" id="phone" name="phone" minlength="10"
                                            required>
                                        <small>Format: 10 digit phone number</small>
                                    </div>
                                    <div class="mb-3">
                                        <label for="email" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="email" name="email"
                                            placeholder="email@address.com" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="introduction" class="form-label">Introduction</label>
                                        <textarea type="email" class="form-control" id="introduction"
                                            name="introduction" rows="3" placeholder="Your motivation.."
                                            required></textarea>
                                    </div>
                                    <br>
                                    <button class="w-100 btn btn-dark" type="submit">Submit!</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <br>
                <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal"
                    data-bs-target="#exampleModal2">
                    Donate
                </button>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content" style="text-align: left !important">
                            <div class="modal-header">
                                <h1 class="modal-title fs-5" id="exampleModalLabel">Donate for a cause</h1>
                            </div>
                            <div class="modal-body" style="text-align: center">
                                <!-- (A) LOAD QRCODEJS LIBRARY -->
                                <!-- https://cdnjs.com/libraries/qrcodejs -->
                                <!-- https://github.com/davidshimjs/qrcodejs -->
                                <script
                                    src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

                                <!-- (B) GENERATE QR CODE HERE -->
                                <div style="margin: auto" id="qrcode"></div>

                                <!-- (C) CREATE QR CODE ON PAGE LOAD -->
                                <script>
                                    window.addEventListener("load", () => {
                                        var qrc = new QRCode(document.getElementById("qrcode"), "upi://pay?pa=<%= detail.upi %> ");
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <!-- <div class="product-device shadow-sm d-none d-md-block"></div>
                     <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div> -->
        </div>

        <h2 style="text-align: center; padding: 2em;">Our Events</h2>
        <div
            style="display: flex; margin-left: 1em; margin-right: 1em; gap: 1em; flex-wrap: wrap; justify-content: center;">

            <% for (let i=0; i < events.length; i++ ) { %>
                    <div class="card" style="width: 18rem;">
                        <img src=<%= events[i].image %>
                            class="card-img-top" alt="image">
                        <div class="card-body">
                            <h5 class="card-title"><%= events[i].name %></h5>
                            <p class="card-text"><%= events[i].description %></p>
                            <i>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-calendar" viewBox="0 0 16 16">
                                    <path
                                        d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                                </svg>
                                Date: <%=events[i].starts%> &nbsp; - &nbsp; <%=events[i].ends%>
                            </i>
                        </div>
                    <!-- <div class="my-3 py-3">
                        <h2 class="display-5">
                            <%=events[i].name%>
                        </h2>
                        <p class="lead">
                            <%=events[i].description%>
                        </p>
                        <i>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                class="bi bi-calendar" viewBox="0 0 16 16">
                                <path
                                    d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                            </svg>
                            Date: <%=events[i].starts%> &nbsp; - &nbsp; <%=events[i].ends%>
                        </i>
                    </div> -->
                </div>
                <% } %>

        </div>
        
        <!--Div where the WhatsApp will be rendered-->
        <div id="WAButton"></div>
        <script>
            $(function () {
                $('#WAButton').floatingWhatsApp({
                    phone: '<%= detail.phone %>', //WhatsApp Business phone number International format-
                    headerTitle: 'Chat with us on WhatsApp!', //Popup Title
                    popupMessage: 'Hello, how can we help you?', //Popup Message
                    showPopup: true, //Enables popup display
                    buttonImage: '<img src="https://rawcdn.githack.com/rafaelbotazini/floating-whatsapp/3d18b26d5c7d430a1ab0b664f8ca6b69014aed68/whatsapp.svg" />', //Button Image
                    //headerColor: 'crimson', //Custom header color
                    //backgroundColor: 'crimson', //Custom background button color
                    position: "right"
                });
            });
        </script>
        <footer style="margin: 8em; text-align: center; background: #eee; padding: 4em;">
            Made with Auriga.
        </footer>
    </main>
</body>

</html>